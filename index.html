<!DOCTYPE html>
<html lang="ro">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Service Hub ‚Äì Case de Marcat</title>
    <meta name="description"
        content="Portal de cunoa»ôtere pentru tehnicieni service case de marcat. Proceduri, »ôabloane, moduri de utilizare.">
    <link rel="stylesheet" href="style.css">
    <link rel="icon"
        href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='.9em' font-size='90'>üñ®Ô∏è</text></svg>">
</head>

<body>

    <!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
     VIEW: LOGIN
‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
    <div id="login-view" class="view active">
        <!-- Decora»õie fundal -->
        <div class="login-bg-orb login-bg-orb-1"></div>
        <div class="login-bg-orb login-bg-orb-2"></div>

        <div class="login-card">
            <div class="login-logo">
                <div class="login-logo-icon">üñ®Ô∏è</div>
                <div class="login-logo-text">
                    <h2>Service Hub</h2>
                    <p>Case de Marcat</p>
                </div>
            </div>

            <h1 class="login-title">Bun venit! üëã</h1>
            <p class="login-subtitle">AutentificƒÉ-te pentru a accesa procedurile »ôi »ôabloanele.</p>

            <!-- onsubmit inline previne redirectul la ? pe GitHub Pages -->
            <form id="login-form" onsubmit="handleLogin(event); return false;" autocomplete="on">
                <div class="form-group">
                    <label class="form-label" for="username">NUME TEHNICIAN</label>
                    <input class="form-input" type="text" id="username" placeholder="ex: Ion Popescu"
                        autocomplete="username" required />
                </div>
                <div class="form-group">
                    <label class="form-label" for="password">PAROLƒÇ</label>
                    <input class="form-input" type="password" id="password" placeholder="Parola ta"
                        autocomplete="current-password" required />
                </div>
                <button class="login-btn" type="submit" id="login-btn">Autentificare</button>
                <div class="login-error" id="login-error"></div>
            </form>
        </div>

        <!-- Tagline afi»ôat sub card pe mobil -->
        <p class="login-tagline">Cunoa»ôtere ‚Ä¢ Proceduri ‚Ä¢ Eficien»õƒÉ</p>
    </div>

    <!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
     VIEW: APP
‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
    <div id="app-view" class="view">
        <div id="app-shell">

            <!-- ‚îÄ‚îÄ OVERLAY (click √Æn afara sidebar-ului √Æl √Ænchide) ‚îÄ‚îÄ -->
            <div id="sidebar-overlay" onclick="toggleSidebar()"></div>

            <!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
                 MOBILE HEADER (vizibil < 768px)
                 3 zone: [‚ò∞ Logo] | [Select Model] | [Avatar+Butoane]
            ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
            <div id="mobile-header">

                <!-- St√¢nga: Hamburger + Logo -->
                <div class="mh-left">
                    <button class="mh-hamburger" id="hamburger-btn" onclick="toggleSidebar()" title="Meniu categorii">
                        <span class="hamburger-icon">‚ò∞</span>
                    </button>
                    <div class="mobile-logo">
                        <span class="logo-icon-small">üñ®Ô∏è</span>
                        <span class="mobile-logo-text">Service Hub</span>
                    </div>
                </div>

                <!-- Centru: Selector model casƒÉ de marcat -->
                <div class="mh-center">
                    <div class="mh-model-select-wrap">
                        <span class="mh-select-icon">üñ®Ô∏è</span>
                        <select id="model-select-mobile"
                            onchange="filterModel(this.value); syncDesktopSelect(this.value)">
                            <option value="">CM</option>
                        </select>
                    </div>
                </div>

                <!-- Dreapta: Avatar + Sincronizare + Deconectare -->
                <div class="mh-right">
                    <button id="sync-btn-mobile" class="mh-icon-btn mh-sync-btn" title="Sincronizare Drive"
                        onclick="handleSync()" style="display:none;">üîÑ</button>
                    <div class="mh-user-avatar" id="mobile-user-avatar" title="">?</div>
                    <button class="mh-icon-btn mh-logout-btn" title="Deconectare" onclick="handleLogout()">üö™</button>
                </div>

            </div>

            <!-- ‚îÄ‚îÄ SIDEBAR ‚îÄ‚îÄ -->
            <aside id="sidebar">
                <div id="sidebar-logo">
                    <div class="logo-icon">üñ®Ô∏è</div>
                    <div class="logo-text-wrapper">
                        <h1>Service Hub</h1>
                        <span>Case de Marcat</span>
                    </div>
                    <button id="close-sidebar-btn" onclick="toggleSidebar()" title="√énchide meniu">‚úï</button>
                </div>

                <div class="sidebar-section">
                    <div class="sidebar-label">Categorii</div>
                    <div id="categories-wrapper">
                        <div class="nav-item active" data-cat=""
                            onclick="filterCategory('', this); closeSidebarOnMobile()">
                            <span class="nav-icon">üìö</span> Toate
                            <span class="nav-badge" id="badge-all">0</span>
                        </div>
                        <!-- Categoriile dinamice vor fi randate aici -->
                        <div id="dynamic-categories-container" style="display: flex; flex-direction: column;"></div>
                    </div>
                </div>

                <!-- Model select vizibil DOAR pe desktop √Æn sidebar -->
                <div class="sidebar-section sidebar-model-section">
                    <div class="sidebar-label">Model casƒÉ de marcat</div>
                    <div class="model-filter-wrapper">
                        <select id="model-select" onchange="filterModel(this.value); syncMobileSelect(this.value)">
                            <option value="">‚Äî Toate modelele ‚Äî</option>
                        </select>
                    </div>
                </div>

                <div id="sidebar-footer">
                    <div id="user-card">
                        <div class="user-block-left">
                            <div class="user-avatar" id="user-avatar">?</div>
                            <div class="user-info">
                                <div class="user-name" id="user-name-display">‚Äî</div>
                                <div class="user-role" id="user-role-display">tehnician</div>
                            </div>
                        </div>
                        <div class="user-actions">
                            <button id="sync-btn" title="Sincronizare cu Google Drive" onclick="handleSync()"
                                style="display: none;">üîÑ Sincronizare</button>
                            <button id="logout-btn" title="Deconectare" onclick="handleLogout()">üö™ Ie»ôire</button>
                        </div>
                    </div>
                </div>
            </aside>

            <!-- ‚îÄ‚îÄ MAIN ‚îÄ‚îÄ -->
            <main id="main">
                <div id="header">
                    <div id="search-wrapper">
                        <span class="search-icon">üîç</span>
                        <input type="text" id="search-input" placeholder="CautƒÉ proceduri, »ôabloane, modele..."
                            oninput="handleSearch(this.value)" />
                    </div>
                    <span id="results-count">0 documente</span>
                </div>

                <div id="content-area">
                    <div id="doc-list-panel">
                        <div class="spinner" id="loading-spinner"></div>
                        <div id="doc-list"></div>
                    </div>

                    <div id="doc-viewer">
                        <div id="doc-viewer-placeholder">
                            <div class="placeholder-icon">üìñ</div>
                            <p>SelecteazƒÉ un document pentru a-l vizualiza</p>
                        </div>
                        <div id="doc-viewer-content">
                            <div class="doc-viewer-header">
                                <button id="mobile-back-btn" class="mobile-back-btn" onclick="closeMobileViewer()">‚¨Ö
                                    √énapoi</button>
                                <div class="doc-viewer-title-area">
                                    <h2 id="viewer-title">‚Äî</h2>
                                    <div class="doc-meta">
                                        <span class="meta-badge meta-cat" id="viewer-cat">‚Äî</span>
                                        <span class="meta-badge meta-model" id="viewer-model">‚Äî</span>
                                        <span class="meta-badge meta-date" id="viewer-date">‚Äî</span>
                                    </div>
                                </div>
                                <!-- Butoane ac»õiuni document -->
                                <div class="doc-actions">
                                    <a id="btn-edit-doc" class="doc-action-btn doc-action-edit" href="#" target="_blank"
                                        title="EditeazƒÉ √Æn Google Docs" style="display:none;">
                                        ‚úèÔ∏è EditeazƒÉ
                                    </a>
                                    <a id="btn-open-doc" class="doc-action-btn doc-action-open" href="#" target="_blank"
                                        title="Deschide √Æn Google Docs">
                                        üìÑ Deschide
                                    </a>
                                </div>
                            </div>
                            <!-- IFRAME Google Docs viewer -->
                            <div id="doc-iframe-wrapper">
                                <iframe id="doc-iframe" src="" frameborder="0" allowfullscreen></iframe>
                            </div>
                        </div>
                    </div>
                </div>
            </main>

        </div>
    </div>

    <!-- Toast global -->
    <div id="toast"></div>

    <script src="config.js"></script>
    <script src="app.js"></script>
</body>

</html>
